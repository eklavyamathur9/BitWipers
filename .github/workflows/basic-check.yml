name: Basic Check

on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]

jobs:
  basic-check:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'
    
    - name: Check Python version
      run: |
        python --version
        echo "✅ Python is working"
    
    - name: Check project structure
      run: |
        echo "📁 Project structure:"
        ls -la
        echo ""
        echo "📁 Source code:"
        ls -la src/ || echo "No src directory"
        echo ""
        echo "✅ Project structure checked"
    
    - name: Install minimal dependencies
      run: |
        python -m pip install --upgrade pip
        echo "✅ Pip upgraded successfully"
    
    - name: Simple Python test
      run: |
        python -c "print('✅ Python execution working')"
        python -c "import sys; print(f'✅ Python {sys.version} is running')"
    
    - name: Check if requirements file exists
      run: |
        if [ -f requirements.txt ]; then
          echo "✅ requirements.txt found"
          head -5 requirements.txt
        else
          echo "⚠️ No requirements.txt found"
        fi
    
    - name: Final status
      run: |
        echo "🎉 Basic check completed successfully!"
        echo "This workflow verifies that:"
        echo "  ✅ Repository can be checked out"
        echo "  ✅ Python can be installed"
        echo "  ✅ Basic commands work"
        echo "  ✅ Project structure is accessible"
